DEF MUX41
  PORT IN I0
  PORT IN I1
  PORT IN I2
  PORT IN I3
  PORT IN S<1:0>
  PORT OUT Z

  NET NOTS0
  NET NOTS1

  NET J
  NET K
  NET L
  NET M

  NET JI
  NET KI
  NET LI
  NET MI

  NET O
  NET P

  INST INOTS1 NOT S<1> NOTS1
  INST INOTS0 NOT S<0> NOTS0

  INST ANDJ AND NOTS1 NOTS0 J
  INST ANDK AND NOTS1 S<0> K
  INST ANDL AND S<1> NOTS0 L
  INST ANDM AND S<1> S<0> M

  INST NANDJI NAND J I0 JI
  INST NANDKI NAND K I1 KI
  INST NANDLI NAND L I2 LI
  INST NANDMI NAND M I3 MI

  INST ANDO AND JI KI O
  INST ANDP AND LI MI P

  INST OUT NAND O P Z
ENDDEF